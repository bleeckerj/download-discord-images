# Discord Channel Media Downloader

This project provides a Python script to download images and videos from a specified Discord channel. It is designed to help users archive media content, including images and videos (such as those generated by Midjourney), from Discord channels for personal use or backup.

## Purpose

The script connects to Discord using a bot token, scans messages in a specified channel, and downloads all attachments matching common image and video formats. It saves these files in a structured directory hierarchy and creates JSON metadata files for each media item, making it easy to index and reference downloaded content.

## Features

- Downloads images and videos (mp4, mov, avi, mkv, webm, m4v, mpg, mpeg, wmv, flv, 3gp, png, jpg, jpeg, gif, webp) from Discord channel messages
- Organizes media files by year and month for easy navigation
- Creates JSON metadata files for each media item, including message details and file paths
- Handles existing files by updating metadata and moving files if necessary
- Supports starting from the oldest message or a specific message ID
- Uses Python logging for detailed progress and debugging information

## How It Works

1. Reads configuration from `config.json` (bot token, channel ID, output directory, etc.)
2. Connects to Discord and fetches messages from the specified channel
3. For each message, logs the full message object for inspection
4. Downloads attachments with supported file extensions
5. Saves media files in a directory structure: `images/<channel_name>_<channel_id>/images/<year>/<month>/...`
6. Saves JSON metadata files in: `images/<channel_name>_<channel_id>/json/<year>/<month>/...`
7. Updates or moves existing files as needed
8. Provides detailed logging for all operations

## Usage

1. Clone the repository
2. Create and configure `config.json` with your Discord bot token and channel ID
3. Run the script with Python 3
4. Monitor progress and logs for details on downloaded files and message contents

## Requirements

- Python 3.7+
- `discord.py` library
- `requests` library

## Security Notes

- Keep your Discord bot token private
- Do not share or commit your token to public repositories

## License

MIT License